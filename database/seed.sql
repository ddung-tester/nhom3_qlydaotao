-- ============================================================================
-- DỮ LIỆU MẪU CHO HỆ THỐNG QUẢN LÝ TRUNG TÂM ĐÀO TẠO
-- ============================================================================

-- Xóa tất cả dữ liệu hiện có và đặt lại identity
TRUNCATE TABLE XepLich RESTART IDENTITY CASCADE;
TRUNCATE TABLE PhongHoc RESTART IDENTITY CASCADE;
TRUNCATE TABLE BuoiHoc RESTART IDENTITY CASCADE;
TRUNCATE TABLE PhanCong RESTART IDENTITY CASCADE;
TRUNCATE TABLE DiemThi RESTART IDENTITY CASCADE;
TRUNCATE TABLE DangKyKhoa RESTART IDENTITY CASCADE;
TRUNCATE TABLE LopMonHoc RESTART IDENTITY CASCADE;
TRUNCATE TABLE KhoaDaoTao RESTART IDENTITY CASCADE;
TRUNCATE TABLE MonHoc RESTART IDENTITY CASCADE;
TRUNCATE TABLE KyHoc RESTART IDENTITY CASCADE;
TRUNCATE TABLE ChuongTrinh RESTART IDENTITY CASCADE;
TRUNCATE TABLE NhanVien RESTART IDENTITY CASCADE;
TRUNCATE TABLE GiangVien RESTART IDENTITY CASCADE;
TRUNCATE TABLE HocVien RESTART IDENTITY CASCADE;
TRUNCATE TABLE User_SDT RESTART IDENTITY CASCADE;
TRUNCATE TABLE "User" RESTART IDENTITY CASCADE;

-- ============================================================================
-- 1. User - Thông tin người dùng cơ bản
-- ============================================================================
INSERT INTO "User" (HoTen, NgaySinh, Email) VALUES
-- Nhân viên (1-4)
('Trần Văn An', '1980-03-15', 'tran.van.an@center.edu.vn'),
('Nguyễn Thị Bình', '1982-07-20', 'nguyen.thi.binh@center.edu.vn'),
('Lê Hoàng Cường', '1985-11-10', 'le.hoang.cuong@center.edu.vn'),
('Phạm Thu Dung', '1988-05-25', 'pham.thu.dung@center.edu.vn'),
-- Giảng viên (5-11) - ID càng cao càng lên đầu (Logic UI: Order By ID DESC)
('TS. Nguyễn Văn Hùng', '1975-08-12', 'nguyen.van.hung@tea.ptit.edu.vn'), -- 5
('PGS. Trần Thị Lan', '1978-12-05', 'tran.thi.lan@tea.ptit.edu.vn'), -- 6
('ThS. Lê Minh Tuấn', '1980-04-18', 'le.minh.tuan@tea.ptit.edu.vn'), -- 7
('TS. Phạm Thị Hoa', '1979-09-22', 'pham.thi.hoa@tea.ptit.edu.vn'), -- 8
('ThS. Hoàng Văn Nam', '1983-01-30', 'hoang.van.nam@tea.ptit.edu.vn'), -- 9
('CN. Vũ Thị Mai', '1987-06-14', 'vu.thi.mai@tea.ptit.edu.vn'), -- 10
('TS. Nguyễn Đình Hóa', '1980-01-01', 'nguyen.dinh.hoa@tea.ptit.edu.vn'), -- 11 (Mới, ID cao nhất)

-- Học viên (12-21) - Dũng, Hiếu, Việt có ID cao nhất
('Lê Thị Hương', '1999-03-12', 'le.thi.huong@stu.ptit.edu.vn'), -- 12
('Trần Văn Long', '1998-07-08', 'tran.van.long@stu.ptit.edu.vn'), -- 13
('Nguyễn Thị Nga', '1999-12-25', 'nguyen.thi.nga@stu.ptit.edu.vn'), -- 14
('Phạm Văn Tú', '1998-02-18', 'pham.van.tu@stu.ptit.edu.vn'), -- 15
('Hoàng Thị Linh', '1999-09-05', 'hoang.thi.linh@stu.ptit.edu.vn'), -- 16
('Đỗ Văn Kiên', '1998-10-20', 'do.van.kien@stu.ptit.edu.vn'), -- 17
('Bùi Thị Trang', '1999-06-14', 'bui.thi.trang@stu.ptit.edu.vn'), -- 18
('Nguyễn Quốc Việt', '1998-11-30', 'nguyen.quoc.viet@stu.ptit.edu.vn'), -- 19 (Cao thứ 3)
('Phạm Minh Hiếu', '1999-08-22', 'pham.minh.hieu@stu.ptit.edu.vn'), -- 20 (Cao thứ 2)
('Trần Đình Dũng', '1998-05-15', 'tran.dinh.dung@stu.ptit.edu.vn'); -- 21 (Cao nhất)

-- ============================================================================
-- 2. User_SDT - Số điện thoại
-- ============================================================================
INSERT INTO User_SDT (USER_ID, SDT) VALUES
(1, '0901234567'), (2, '0901234568'), (3, '0901234569'), (4, '0901234570'),
(5, '0902345671'), (6, '0902345672'), (7, '0902345673'), (8, '0902345674'),
(9, '0902345675'), (10, '0902345676'), (11, '0911223344'), 
(12, '0903456784'), (13, '0903456785'), (14, '0903456786'), (15, '0903456787'),
(16, '0903456788'), (17, '0903456789'), (18, '0903456790'), 
(19, '0903456783'), (20, '0903456782'), (21, '0903456781');

-- ============================================================================
-- 3. NhanVien
-- ============================================================================
INSERT INTO NhanVien (USER_ID, NgayVaoLam, QuanLy_ID) VALUES
(1, '2020-01-15', 1),
(2, '2020-03-20', 1),
(3, '2021-06-10', 1),
(4, '2021-09-01', 2);

-- ============================================================================
-- 4. GiangVien
-- ============================================================================
INSERT INTO GiangVien (USER_ID, ChuyenMon) VALUES
(5, 'Hệ Thống Thông Tin'), -- Hùng
(6, 'Trí Tuệ Nhân Tạo'), -- Lan
(7, 'Cơ Sở Dữ Liệu'), -- Tuấn
(8, 'Mạng Máy Tính'), -- Hoa
(9, 'Lập Trình Web'), -- Nam
(10, 'An Toàn Thông Tin'), -- Mai
(11, 'Cơ Sở Dữ Liệu Nâng Cao'); -- Hóa

-- ============================================================================
-- 5. HocVien
-- ============================================================================
INSERT INTO HocVien (USER_ID, DiaChi) VALUES
(12, '90 Nguyễn Huệ, Hà Nội'), -- Hương
(13, '12 Điện Biên Phủ, TP.HCM'), -- Long
(14, '34 Hai Bà Trưng, Hà Nội'), -- Nga
(15, '56 Quang Trung, Hải Dương'), -- Tú
(16, '78 Lý Thường Kiệt, Hà Nội'), -- Linh
(17, '90 Trần Hưng Đạo, Quảng Ninh'), -- Kiên
(18, '12 Lê Duẩn, Hà Nội'), -- Trang
(19, '78 Lê Lợi, Đà Nẵng'), -- Việt
(20, '45 Trần Phú, Hải Phòng'), -- Hiếu
(21, '123 Đường Láng, Hà Nội'); -- Dũng

-- ============================================================================
-- 6. ChuongTrinh
-- ============================================================================
INSERT INTO ChuongTrinh (TenCT, MoTa, NV_QuanLy_ID) VALUES
('Sau Đại Học CNTT', 'Chương trình đào tạo sau đại học về Công nghệ thông tin', 1),
('Bồi Dưỡng Nghiệp Vụ', 'Chương trình bồi dưỡng nghiệp vụ chuyên sâu', 2),
('Chứng Chỉ Quốc Tế', 'Chương trình chuẩn bị chứng chỉ quốc tế', 3);

-- ============================================================================
-- 7. MonHoc
-- ============================================================================
INSERT INTO MonHoc (MH_MA, CT_ID, TenMH, SoGio) VALUES
('SDH-HTTT-01', 1, 'Hệ Thống Thông Tin', 45),
('SDH-CSDL-01', 1, 'Cơ Sở Dữ Liệu Nâng Cao', 60),
('SDH-TTNT-01', 1, 'Trí Tuệ Nhân Tạo', 45),
('SDH-MMT-01', 1, 'Mạng Máy Tính', 45),
('SDH-LTW-01', 1, 'Lập Trình Web', 60),
('BDN-TKHT-01', 2, 'Thiết Kế Hệ Thống', 30),
('BDN-QLDA-01', 2, 'Quản Lý Dự Án', 30),
('CCI-ATTT-01', 3, 'An Toàn Thông Tin', 45);

-- ============================================================================
-- 8. KyHoc (Updated to 2025-2026)
-- ============================================================================
INSERT INTO KyHoc (HocKy, Nam, NgayBatDau, NgayKetThuc) VALUES
('1', 2025, '2025-01-08', '2025-05-31'), -- ID 1 (Old 2024)
('2', 2025, '2025-06-03', '2025-10-31'), -- ID 2 (Old 2024)
('3', 2025, '2025-11-04', '2026-03-31'), -- ID 3 (Old 2024/2025)
('1', 2026, '2026-01-06', '2026-05-30'), -- ID 4 (Old 2025)
('2', 2026, '2026-06-02', '2026-10-30'), -- ID 5
('1', 2027, '2027-01-05', '2027-05-29'); -- ID 6

-- ============================================================================
-- 9. KhoaDaoTao (Updated dates)
-- ============================================================================
INSERT INTO KhoaDaoTao (CT_ID, KY_ID, TenKhoa, NgayKhaiGiang) VALUES
-- K1 (Previously 2024 -> Now 2025)
(1, 1, 'Khóa CNTT K01 - Kỳ 1/2025', '2025-01-15'),  
-- K2 (Previously 2024 -> Now 2025)
(1, 2, 'Khóa CNTT K02 - Kỳ 2/2025', '2025-06-10'),  
-- NV (Previoulsy 2024 -> Now 2025)
(2, 1, 'Khóa Nghiệp Vụ K01 - Kỳ 1/2025', '2025-01-20'),  
-- K3 (Previously 2026 -> Still 2026 but linked to Ky 1/2026)
(1, 4, 'Khóa CNTT K03 - Kỳ 1/2026', '2026-01-12'); 

-- ============================================================================
-- 10. LopMonHoc
-- ============================================================================
INSERT INTO LopMonHoc (KDT_ID, MH_MA) VALUES
-- K01 - 2025 (ID 1): HTTT, CSDL, TTNT (ID: 1, 2, 3)
(1, 'SDH-HTTT-01'), (1, 'SDH-CSDL-01'), (1, 'SDH-TTNT-01'),
-- K02 - 2025 (ID 2): HTTT, MMT, LTW (ID: 4, 5, 6)
(2, 'SDH-HTTT-01'), (2, 'SDH-MMT-01'), (2, 'SDH-LTW-01'),
-- NV - 2025 (ID 3): TKHT, QLDA (ID: 7, 8)
(3, 'BDN-TKHT-01'), (3, 'BDN-QLDA-01'),
-- K03 - 2026 (ID 4): HTTT, CSDL, TTNT, MMT (ID: 9, 10, 11, 12)
(4, 'SDH-HTTT-01'), (4, 'SDH-CSDL-01'), (4, 'SDH-TTNT-01'), (4, 'SDH-MMT-01');

-- ============================================================================
-- 11. DangKyKhoa (Updated dates)
-- ============================================================================
INSERT INTO DangKyKhoa (HV_ID, KDT_ID, NgayDK, TrangThai) VALUES
-- KDT 1 (2025): Dúng, Hiếu, Việt, Hương
(21, 1, '2025-01-05', 'DANG_HOC'),
(20, 1, '2025-01-05', 'DANG_HOC'),
(19, 1, '2025-01-06', 'DANG_HOC'),
(12, 1, '2025-01-06', 'DANG_HOC'),
-- KDT 2 (2025): Long, Nga, Tú
(13, 2, '2025-06-01', 'HOAN_THANH'),
(14, 2, '2025-06-01', 'HOAN_THANH'),
(15, 2, '2025-06-02', 'HOAN_THANH'),
-- KDT 3 (2025): Linh, Kiên
(16, 3, '2025-01-15', 'HOAN_THANH'),
(17, 3, '2025-01-15', 'HOAN_THANH'),
-- KDT 4 (2026): Dũng, Hiếu, Việt
(21, 4, '2026-01-02', 'DANG_HOC'),
(20, 4, '2026-01-02', 'DANG_HOC'),
(19, 4, '2026-01-03', 'DANG_HOC');

-- ============================================================================
-- 12. DiemThi (Updated 2024->2025, and NEW 2026 results for top students)
-- ============================================================================
INSERT INTO DiemThi (HV_ID, LopMH_ID, LanThi, Diem, NgayThi) VALUES
-- [NEW] 2026 Results for Dũng(21), Hiếu(20), Việt(19) in KDT 4 (LopMH: 9=HTTT)
-- This ensures they have the LATEST results
(21, 9, 1, 9.5, '2026-02-01'), 
(20, 9, 1, 8.5, '2026-02-01'),
(19, 9, 1, 8.0, '2026-02-01'),

-- [OLD but Updated Year] KDT 1 (2025) (Lop 1, 2, 3)
-- Việt (19)
(19, 1, 1, 7.5, '2025-03-15'),
(19, 2, 1, 3.5, '2025-03-20'),
(19, 2, 2, 4.5, '2025-04-10'),
(19, 3, 1, 4.0, '2025-03-25'),
-- Hương (12)
(12, 1, 1, 8.0, '2025-03-15'),
(12, 2, 1, 2.5, '2025-03-20'),
-- Hiếu (20)
(20, 1, 1, 4.5, '2025-03-15'),
(20, 1, 2, 8.5, '2025-04-10'),
(20, 2, 1, 7.5, '2025-03-20'),
(20, 3, 1, 6.0, '2025-03-25'),
-- Dũng (21)
(21, 1, 1, 8.5, '2025-03-15'),
(21, 2, 1, 9.0, '2025-03-20'),
(21, 3, 1, 7.5, '2025-03-25'),

-- KDT 2 (2025) (Lop 4, 5, 6)
(13, 4, 1, 9.5, '2025-08-15'), (13, 5, 1, 8.0, '2025-08-20'), (13, 6, 1, 7.5, '2025-08-25'),
(14, 4, 1, 7.0, '2025-08-15'), (14, 5, 1, 6.5, '2025-08-20'), (14, 6, 1, 8.0, '2025-08-25'),
(15, 4, 1, 8.5, '2025-08-15'), (15, 5, 1, 9.0, '2025-08-20'), (15, 6, 1, 8.5, '2025-08-25'),

-- KDT 3 (2025) (Lop 7, 8)
(16, 7, 1, 8.0, '2025-03-10'), (16, 8, 1, 7.5, '2025-03-15'),
(17, 7, 1, 9.0, '2025-03-10'), (17, 8, 1, 8.5, '2025-03-15');

-- ============================================================================
-- 13. BuoiHoc (2026 - No Change needed)
-- ============================================================================
INSERT INTO BuoiHoc (NgayHoc, GioBD, GioKt) VALUES
('2026-02-02', '08:00', '10:00'), ('2026-02-02', '10:15', '12:15'), ('2026-02-02', '13:30', '15:30'),
('2026-02-03', '08:00', '10:00'), ('2026-02-03', '10:15', '12:15'), ('2026-02-03', '13:30', '15:30'),
('2026-02-04', '08:00', '10:00'), ('2026-02-04', '10:15', '12:15'), ('2026-02-04', '13:30', '15:30'),
('2026-02-05', '08:00', '10:00'), ('2026-02-05', '10:15', '12:15'), ('2026-02-05', '13:30', '15:30'),
('2026-02-06', '08:00', '10:00'), ('2026-02-06', '10:15', '12:15'),
('2026-02-09', '08:00', '10:00'), ('2026-02-09', '10:15', '12:15'), ('2026-02-09', '13:30', '15:30'),
('2026-02-10', '08:00', '10:00'), ('2026-02-10', '10:15', '12:15'), ('2026-02-10', '13:30', '15:30'),
('2026-02-11', '08:00', '10:00'), ('2026-02-11', '10:15', '12:15'), ('2026-02-11', '13:30', '15:30'),
('2026-02-12', '08:00', '10:00'), ('2026-02-12', '10:15', '12:15'), ('2026-02-12', '13:30', '15:30'),
('2026-02-13', '08:00', '10:00'), ('2026-02-13', '10:15', '12:15'),
('2026-02-16', '08:00', '10:00'), ('2026-02-16', '10:15', '12:15'), ('2026-02-16', '13:30', '15:30'),
('2026-02-17', '08:00', '10:00'), ('2026-02-17', '10:15', '12:15'), ('2026-02-17', '13:30', '15:30'),
('2026-02-18', '08:00', '10:00'), ('2026-02-18', '10:15', '12:15'), ('2026-02-18', '13:30', '15:30'),
('2026-02-19', '08:00', '10:00'), ('2026-02-19', '10:15', '12:15'), ('2026-02-19', '13:30', '15:30'),
('2026-02-20', '08:00', '10:00'), ('2026-02-20', '10:15', '12:15'),
('2026-02-23', '08:00', '10:00'), ('2026-02-23', '10:15', '12:15'), ('2026-02-23', '13:30', '15:30'),
('2026-02-24', '08:00', '10:00'), ('2026-02-24', '10:15', '12:15'), ('2026-02-24', '13:30', '15:30'),
('2026-02-25', '08:00', '10:00'), ('2026-02-25', '10:15', '12:15'), ('2026-02-25', '13:30', '15:30'),
('2026-02-26', '08:00', '10:00'), ('2026-02-26', '10:15', '12:15'), ('2026-02-26', '13:30', '15:30'),
('2026-02-27', '08:00', '10:00'), ('2026-02-27', '10:15', '12:15');

-- ============================================================================
-- 14. PhongHoc
-- ============================================================================
INSERT INTO PhongHoc (DiaDiem, MaPhong) VALUES
('Tòa A - Tầng 1', 'A101'),
('Tòa A - Tầng 1', 'A102'),
('Tòa A - Tầng 2', 'A201'),
('Tòa B - Tầng 1', 'B101'),
('Tòa B - Tầng 2', 'B201'),
('Tòa C - Tầng 1', 'C101');

-- ============================================================================
-- 15. XepLich
-- ============================================================================
INSERT INTO XepLich (BuoiHoc_ID, LopMH_ID, PH_ID) VALUES
(1, 9, 1), (2, 10, 2), (3, 11, 3), (4, 12, 4), (5, 9, 1), (6, 10, 2), (7, 11, 3),
(8, 12, 4), (9, 9, 5), (10, 10, 1), (11, 11, 2), (12, 12, 3), (13, 9, 4), (14, 10, 5),
(15, 11, 1), (16, 12, 2), (17, 9, 3), (18, 10, 4), (19, 11, 5), (20, 12, 1), (21, 9, 2),
(22, 10, 3), (23, 11, 4), (24, 12, 5), (25, 9, 1), (26, 10, 2), (27, 11, 3), (28, 12, 4),
(29, 9, 5), (30, 10, 1), (31, 11, 2), (32, 12, 3), (33, 9, 4), (34, 10, 5), (35, 11, 1),
(36, 12, 2), (37, 9, 3), (38, 10, 4), (39, 11, 5), (40, 12, 1), (41, 9, 2), (42, 10, 3),
(43, 11, 4), (44, 12, 5), (45, 9, 1), (46, 10, 2), (47, 11, 3), (48, 12, 4), (49, 9, 5), (50, 10, 1);

-- ============================================================================
-- 16. PhanCong
-- ============================================================================
INSERT INTO PhanCong (GV_ID, LopMH_ID, VaiTro) VALUES
(5, 9, 'GIANGVIEN'),  -- Hung
(6, 11, 'GIANGVIEN'), -- Lan
(7, 10, 'GIANGVIEN'), -- Tuan
(7, 9, 'TROGIANG'),   -- Tuan
(8, 12, 'GIANGVIEN'), -- Hoa
(9, 11, 'TROGIANG'),  -- Nam
(9, 12, 'TROGIANG'),  -- Nam
(10, 10, 'TROGIANG'); -- Mai